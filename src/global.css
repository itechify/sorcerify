@import "tailwindcss";

/* biome-ignore lint/nursery/noUnknownAtRule: Tailwind CSS */
@theme {
	--font-sans: Inter, sans-serif;
}

/* Use border-box sizing so padding/borders don't cause overflow on 100% width elements */
*,
*::before,
*::after {
	box-sizing: border-box;
}

/* Ensure consistent background color across the app */
body {
	width: 100%;
	padding: 0;
	margin: 0;
	overflow-x: hidden;
	background-color: #0f172a;
}

html {
	width: 100%;
	overflow-x: hidden;
}

#root {
	width: 100%;
}

/* Layout variables */
:root {
	/* Height of the navbar (matches NavBar padding/line-height). Adjust if NavBar changes. */
	--navbar-height: 56px; /* approx. py-3 (24px top+bottom) + content height */
}

/* Ensure page content is not hidden beneath the fixed navbar */
.with-fixed-navbar {
	padding-top: var(--navbar-height);
}

/* Mobile-specific improvements */
@media (max-width: 640px) {
	/* Improve touch targets on mobile */
	button,
	[role="button"] {
		min-width: 44px;
		min-height: 44px;
	}

	/* Better text readability on small screens */
	.text-sm {
		font-size: 0.875rem;
		line-height: 1.25rem;
	}
}

/* Celebration sparkles animation */
.celebrate-overlay {
	position: absolute;
	inset: 0;
	pointer-events: none;
}

.celebrate-sparkle {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 6px;
	height: 6px;
	background: hsl(var(--h, 140) 90% 60%);
	border-radius: 9999px;
	/* subtle glow */
	box-shadow: 0 0 6px rgba(255, 255, 255, 0.7);
	opacity: 0;
	transform: translate(-50%, -50%) scale(0.6) rotate(var(--r, 0deg));
	animation:
		celebrate-pop 120ms ease-out var(--d, 0ms) both,
		celebrate-fly 880ms cubic-bezier(0.16, 1, 0.3, 1)
		calc(var(--d, 0ms) + 120ms) forwards;
}

.celebrate-confetti {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 4px;
	height: 10px;
	background: hsl(var(--h, 30) 95% 55%);
	border-radius: 2px;
	opacity: 0;
	transform: translate(-50%, -50%) rotate(var(--r, 0deg));
	animation:
		celebrate-pop 120ms ease-out var(--d, 0ms) both,
		celebrate-fall 950ms cubic-bezier(0.16, 1, 0.3, 1)
		calc(var(--d, 0ms) + 120ms) forwards;
}

.celebrate-ring {
	position: absolute;
	top: 50%;
	left: 50%;
	width: 18px;
	height: 18px;
	border: 2px solid rgba(34, 197, 94, 0.9); /* emerald-500 */
	border-radius: 9999px;
	opacity: 0.85;
	filter: drop-shadow(0 0 8px rgba(34, 197, 94, 0.8));
	transform: translate(-50%, -50%) scale(0.2);
	animation: celebrate-ring 900ms ease-out forwards;
}

@keyframes celebrate-pop {
	from {
		opacity: 0;
		transform: translate(-50%, -50%) scale(0.4);
	}
	to {
		opacity: 1;
		transform: translate(-50%, -50%) scale(1);
	}
}

@keyframes celebrate-fly {
	to {
		transform: translate(
				calc(-50% + var(--tx, 0px)),
				calc(-50% + var(--ty, 0px))
			)
			scale(0.9) rotate(var(--r, 0deg));
		opacity: 0;
	}
}

@keyframes celebrate-fall {
	to {
		transform: translate(
				calc(-50% + var(--tx, 0px)),
				calc(-50% + var(--ty, 120px))
			)
			rotate(var(--r, 0deg));
		opacity: 0;
	}
}

@keyframes celebrate-ring {
	to {
		transform: translate(-50%, -50%) scale(3.2);
		opacity: 0;
	}
}
